/* ===============================
  ModalEvaluacion.css (refactor)
=============================== */

/* Backdrop + tarjeta */
.mb-backdrop{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(15,23,42,.45);
  backdrop-filter:saturate(120%) blur(2px);
  padding:18px;
  z-index:1000;
}
.mb-modal{
  width:min(980px, 94vw);
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:16px;
  box-shadow:0 25px 60px rgba(2,6,23,.20);
  overflow:hidden;
}

/* Header / Body / Footer */
.mb-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px;
  border-bottom:1px solid #eef2f7;
}
.mb-header h3{ margin:0; font-size:18px; font-weight:800; color:#0f172a; }
.mb-close{
  appearance:none; border:0; background:transparent;
  font-size:22px; line-height:1; cursor:pointer; color:#64748b;
}
.mb-close:hover{ color:#0f172a; }

.mb-body{ padding:14px; }
.mb-footer{
  display:flex; justify-content:flex-end; gap:10px;
  padding:12px 16px; border-top:1px solid #eef2f7;
}

/* Botones */
.btn-light{
  appearance:none; border:1px solid #e5e7eb; background:#f8fafc;
  color:#0f172a; padding:8px 12px; border-radius:10px; cursor:pointer;
  font-weight:700;
}
.btn-light:hover{ background:#eef2f7; }

.btn-primary{
  appearance:none; border:1px solid #2563eb; background:#2563eb;
  color:#fff; padding:8px 14px; border-radius:10px; cursor:pointer;
  font-weight:800; box-shadow:0 6px 16px rgba(37,99,235,.25);
}
.btn-primary:hover{ filter:brightness(1.05); }

/* Paneles */
.panel{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:12px;
  padding:12px;
  box-shadow:0 2px 8px rgba(2,6,23,.04);
}

/* Key/Value rows */
.kv{
  display:grid; grid-template-columns:160px 1fr; gap:8px;
  padding:8px 0; border-bottom:1px dashed #eef2f7;
}
.kv:last-child{ border-bottom:0; }
.k{ color:#64748b; font-size:13px; }
.v{ color:#0f172a; font-weight:600; }

/* Chips de estado */
.chip{
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700;
  display:inline-block; white-space:nowrap; border:1px solid transparent;
}
.chip-pendiente     { background:#fff7ed; color:#9a3412; border-color:#fdba74; }
.chip-asignado      { background:#eef2ff; color:#3730a3; border-color:#c7d2fe; }
.chip-en_progreso   { background:#ecfeff; color:#155e75; border-color:#67e8f9; }
.chip-en_evaluacion { background:#ecfeff; color:#155e75; border-color:#67e8f9; }
.chip-completada    { background:#ecfdf5; color:#166534; border-color:#86efac; }
.chip-evaluado      { background:#ecfdf5; color:#166534; border-color:#86efac; }
.chip-cancelada     { background:#fef2f2; color:#991b1b; border-color:#fecaca; }
.chip-interrumpido  { background:#fef2f2; color:#991b1b; border-color:#fecaca; }

/* Lista de pruebas */
.test-list{ list-style:none; margin:0; padding:0; display:grid; gap:10px; }
.test-list li{
  display:flex; align-items:center; justify-content:space-between;
}
.test-name{ font-weight:700; color:#0f172a; }

/* Pills de selección (crear/editar) */
.label-pills{ display:flex; flex-direction:column; gap:8px; }
.pills{ display:flex; flex-wrap:wrap; gap:10px; }
.pill{
  background:#fcd39c; color:#8b5a1f; border:1px solid #f8b86a;
  border-radius:10px; padding:10px 16px; font-weight:800; cursor:pointer;
  transition:transform .06s ease, box-shadow .12s ease, background .2s, color .2s;
  box-shadow:0 2px 6px rgba(0,0,0,.06);
}
.pill:hover{ transform:translateY(-1px); }
.pill--active{
  background:#f59e0b; border-color:#f59e0b; color:#fff;
  box-shadow:0 6px 18px rgba(245,158,11,.35);
}
.hint{ color:#64748b; font-size:12px; }

/* Grids del formulario de edición */
.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.panel input, .panel select, .panel textarea{
  width:100%; border:1px solid #d7dbe2; border-radius:8px; padding:8px 10px;
  font-size:14px; outline:none;
}
.panel textarea{ min-height:92px; resize:vertical; }

/* Paciente */
.patient-card{ display:flex; align-items:center; gap:10px; margin:8px 0 4px; }
.patient-card .icon{ font-size:36px; color:#475569; display:flex; align-items:center; }
.patient-card .meta .name{ font-weight:800; }
.patient-card .meta .ci{ color:#475569; font-size:13px; }

/* Documentos */
.doc-list{ list-style:none; margin:0; padding:0; display:grid; gap:8px; }
.doc-list li{
  display:flex; align-items:center; justify-content:space-between;
  background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; padding:8px 10px;
}
.doc-left{ display:flex; align-items:center; gap:8px; }
.doc-left.as-link{
  appearance:none; background:transparent; border:0; cursor:pointer; padding:0; color:#0f172a;
}
.doc-name{ max-width:260px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.doc-actions .btn-light{ padding:6px 8px; border-radius:8px; }

/* Preview */
.preview-body{
  display:flex; align-items:center; justify-content:center;
  min-height:60vh; background:#fff;
}
.preview-body img, .preview-body iframe{
  max-width:100%; max-height:70vh; border:0; border-radius:8px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
}

/* Responsive */
@media (max-width: 720px){
  .mb-body{ padding:10px; }
  .grid2{ grid-template-columns:1fr; }
  .kv{ grid-template-columns:120px 1fr; }
}
