:root {
  --brand: var(--primary-color, #0ea5e9);
  --brand-600: #0284c7;
  --ok: #22c55e;
  --ok-700: #16a34a;
  --danger: #ef4444;
  --danger-700: #dc2626;
  --ink: #0f172a;
  --muted: #64748b;
  --line: #e2e8f0;
  --surface: #ffffff;
  --surface-2: #f8fafc;
  --focus: #60a5fa;
}

/* ===== Overlay ===== */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.45);
  backdrop-filter: blur(2px);
  display: grid;
  place-items: center;
  padding: 12px;
  z-index: 999;
  animation: overlayIn .18s ease-out both;
}
@keyframes overlayIn { from { opacity: 0 } to { opacity: 1 } }

/* ===== Contenedor del modal ===== */
.modal-usuario {
  background: var(--surface);
  color: var(--ink);
  width: min(760px, 96vw);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.20);
  border: 1px solid var(--line);
  overflow: hidden;
  animation: cardIn .22s ease-out both;
}
@keyframes cardIn {
  from { transform: translateY(6px); opacity: 0; }
  to   { transform: translateY(0);   opacity: 1; }
}

/* Header */
.modal-header { display:flex; align-items:center; gap:10px; padding:12px 16px 6px; background:#fff; }
.sticky-top { position: sticky; top: 0; z-index: 2; }
.modal-usuario h3 { margin:0; font-weight:700; font-size:18px; }
.modal-subtitle { margin:0 16px 10px; color:var(--muted); font-size:12px; }

/* Avatar header */
.usuario-header {
  display:flex; align-items:center; gap:12px;
  padding:0 16px 8px 16px; background:#fff;
}
.usuario-header img {
  width:56px; height:56px; border-radius:50%; object-fit:cover;
  border:1px solid var(--line);
}
.usuario-header strong { display:block; font-size:15px; }
.usuario-header div > div { color:var(--muted); font-size:12px; }

/* Body scrollable */
.modal-body { max-height: 60vh; overflow:auto; padding-bottom: 4px; background:#fff; }

/* Cards */
.section-card{ background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; padding:12px 16px; margin:12px 16px; }
.section-heading{ margin:0 0 8px; font-weight:700; font-size:13px; color:#111827; }

/* Grid de campos */
.form-grid { display:grid; grid-template-columns: 1fr 1fr; gap:12px 16px; }
.col { display:grid; grid-template-columns:1fr; }
.col label { font-weight:600; font-size:12px; margin-top:6px; color:var(--ink); }

.col input, .col select {
  width:100%; margin-top:4px; padding:8px 10px; font-size:13px;
  border:1px solid var(--line); border-radius:8px; background: var(--surface-2);
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.col input:focus, .col select:focus {
  outline:none; border-color:var(--focus);
  box-shadow:0 0 0 2px color-mix(in srgb, var(--focus) 18%, transparent);
  background:#fff;
}
.col input:disabled, .col select:disabled { opacity:.8; cursor:not-allowed; background:#f1f5f9; }

/* CI */
.ci-row{ display:grid; grid-template-columns:1.6fr .8fr; gap:8px; }
.ci-ext{ min-width:120px; }

/* Reglas de requeridos/invalid */
.label-required { color:#b91c1c; }
.invalid { border-color:#ef4444 !important; background:#fff; }
.req-badge {
  display:inline-block; margin-left:6px; padding:1px 6px; border-radius:6px;
  background:#fee2e2; color:#b91c1c; font-size:11px; font-weight:700;
}

/* Input con bot√≥n ojo */
.input-with-toggle { display:flex; align-items:center; gap:6px; }
.input-with-toggle input { flex:1; }
.toggle-eye {
  height:32px; padding:0 8px; border:1px solid var(--line);
  background:#fff; border-radius:8px; cursor:pointer;
}
.toggle-eye:hover { background:#f8fafc; }

/* Mensajes */
.alert { margin:8px 16px 0; padding:8px 10px; border-radius:8px; font-size:12px; border:1px solid; }
.alert--error { color:var(--danger-700); border-color:var(--danger); background:#fee2e2; }
.alert--ok { color:var(--ok-700); border-color:var(--ok); background:#dcfce7; }

/* Footer */
.modal-actions { display:flex; justify-content:flex-end; gap:8px; padding:12px 16px 14px; border-top:1px solid var(--line); background:#fff; }
.sticky-bottom { position: sticky; bottom: 0; z-index: 2; }
.btn { appearance:none; border:none; border-radius:8px; padding:8px 14px; font-weight:700; font-size:13px; cursor:pointer; transition:transform .05s, filter .15s; }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity:.6; cursor:not-allowed; }
.btn-aceptar { background:var(--ok); color:#fff; } .btn-aceptar:hover{ filter:brightness(.96); }
.btn-rechazar { background:var(--danger); color:#fff; } .btn-rechazar:hover{ filter:brightness(.96); }
.btn-secundario {
  height:34px; padding:0 10px; border-radius:8px; border:1px solid var(--line);
  background:#fff; color:var(--ink); font-weight:600; font-size:13px; cursor:pointer;
}
.btn-secundario:hover{ background:#f8fafc; }

/* Close */
.modal-close { margin-left:auto; width:32px; height:32px; border-radius:8px; background:transparent; border:1px solid var(--line); display:grid; place-items:center; cursor:pointer; }
.modal-close:hover { background:#f8fafc; }

/* Responsive */
@media (max-width: 720px) {
  .form-grid { grid-template-columns: 1fr; }
  .modal-header, .modal-subtitle, .usuario-header, .modal-actions { padding-left: 12px; padding-right: 12px; }
}
